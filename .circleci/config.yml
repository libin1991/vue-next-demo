version: 2.1

step_install_deps: &install_deps
  run:
    name: Install Dependencies
    command: npm i

jobs:
  build-push:
    docker:
      - image: circleci/node:lts
    steps:
      - checkout
      - *install_deps
      - run: npm run build
      - run: git add .
      - run: git commit -m "build online demo site"
      - run: git push origin master

workflows:
  build:
    jobs:
      - build-push
